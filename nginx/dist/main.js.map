{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../../node_modules/custom-event/index.js","webpack:///../../src/applications/app-errors.js","webpack:///../../src/applications/app.helpers.js","webpack:///../../src/utils/assign.js","webpack:///../../src/utils/find.js","webpack:///../../src/lifecycles/lifecycle.helpers.js","webpack:///../../src/lifecycles/bootstrap.js","webpack:///../../src/lifecycles/unmount.js","webpack:///../../src/lifecycles/mount.js","webpack:///../../src/parcels/mount-parcel.js","webpack:///../../src/lifecycles/update.js","webpack:///../../src/lifecycles/prop.helpers.js","webpack:///../../src/applications/timeouts.js","webpack:///../../src/lifecycles/load.js","webpack:///../../src/utils/runtime-environment.js","webpack:///../../src/navigation/navigation-events.js","webpack:///../../src/jquery-support.js","webpack:///../../src/lifecycles/unload.js","webpack:///../../src/applications/apps.js","webpack:///../../src/navigation/reroute.js","webpack:///../../src/start.js","webpack:///../../src/devtools/devtools.js","webpack:///../../src/single-spa.js","webpack:///(webpack)/buildin/global.js","webpack:///. lazy ^\\.\\/.*\\/src\\/main\\.js$ namespace object","webpack:///./node_modules/single-spa-layout/dist/esm/single-spa-layout.min.js","webpack:///./single-spa.config.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","installedModules","1","__webpack_require__","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","s","NativeCustomEvent","CustomEvent","detail","foo","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","errorHandlers","handleAppError","app","newStatus","transformedErr","transformErr","forEach","handler","addErrorHandler","formatErrorMessage","removeErrorHandler","removedSomething","filter","h","isHandler","code","msg","args","join","ogErr","appOrParcel","result","errPrefix","objectType","toName","status","warn","JSON","stringify","appOrParcelName","NOT_LOADED","LOADING_SOURCE_CODE","NOT_BOOTSTRAPPED","BOOTSTRAPPING","NOT_MOUNTED","MOUNTING","MOUNTED","UPDATING","UNMOUNTING","LOAD_ERROR","SKIP_BECAUSE_BROKEN","isActive","shouldBeActive","activeWhen","location","isParcel","unmountThisParcel","assign","arguments","find","arr","func","validLifecycleFn","fn","Array","isArray","item","flattenFnArray","lifecycle","fns","props","reduce","resultPromise","index","then","thisPromise","smellsLikeAPromise","catch","toBootstrapPromise","hardFail","bootstrap","reasonableTime","successfulBootstrap","toUnmountPromise","unmountChildrenParcels","keys","parcels","map","parcelId","unmountAppOrParcel","parcelError","parentError","beforeFirstMountFired","firstMountFired","toMountPromise","dispatchEvent","setSkipBecauseBroken","parcelCount","rootParcels","mountRootParcel","mountParcel","apply","config","customProps","owningAppOrParcel","this","_typeof","domElement","externalRepresentation","id","passedConfigLoadingFunction","configLoadingFunction","parcel","parentName","mountPromise","resolveUnmount","rejectUnmount","loadPromise","bootstrapPromise","mount","unmount","update","timeouts","ensureValidAppTimeouts","promiseWithoutReturnValue","unmountPromise","getStatus","getProps","singleSpa","unmountSelf","globalTimeoutConfig","millis","dieOnTimeout","warningMillis","unload","setBootstrapMaxTime","time","setMountMaxTime","setUnmountMaxTime","setUnloadMaxTime","timeoutConfig","warningPeriod","finished","errored","val","maybeTimingOut","errMsg","shouldError","numWarnings","numMillis","toLoadPromise","loadApp","isUserErr","validationErrCode","loadErrorTime","appOpts","appOptsStr","devtools","overlays","Date","getTime","urlRerouteOnly","isInBrowser","capturedEventListeners","hashchange","popstate","routingEventsListeningTo","navigateToUrl","obj","url","href","currentTarget","preventDefault","current","parseUri","destination","indexOf","hash","host","pathname","search","history","pushState","callCapturedEventListeners","eventArguments","eventType","listener","_this","urlReroute","reroute","patchedUpdateState","updateState","methodName","urlBefore","urlAfter","isStarted","createPopStateEvent","state","originalMethodName","evt","PopStateEvent","initPopStateEvent","singleSpaTrigger","addEventListener","originalAddEventListener","originalRemoveEventListener","removeEventListener","eventName","listenerFn","replaceState","singleSpaNavigate","str","anchor","hasInitialized","ensureJQuerySupport","jQuery","$","jquery","originalJQueryOn","on","originalJQueryOff","off","eventString","captureRoutingEvents","originalJQueryFunction","nativeFunctionToCall","originalArgs","split","replace","trim","appsToUnload","toUnloadPromise","unloadInfo","finishUnloadingApp","unloadPromise","addAppToUnload","promiseGetter","getAppUnloadInfo","appName","apps","getAppChanges","appsToUnmount","appsToLoad","appsToMount","currentTime","appShouldBeActive","getMountedApps","getAppNames","getAppStatus","registerApplication","appNameOrConfig","appOrLoadApp","registration","validKeys","invalidKeys","prop","concat","allowsStringAndFunction","every","validCustomProps","activeWhenArray","activeWhenOrPath","pathToActiveWhen","some","options","selectors","checkActivityFunctions","unregisterApplication","unloadApplication","appIndex","splice","opts","waitForUnmount","App","appUnloadInfo","immediatelyUnloadApp","path","exactMatch","regex","lastIndex","inDynamic","regexStr","charIndex","char","appendToRegex","RegExp","commonStringSubPath","suffix","charAt","origin","protocol","route","test","appChangeUnderway","peopleWaitingOnAppChange","currentUrl","triggerAppChange","pendingPromises","appsThatChanged","navigationIsCanceled","oldUrl","newUrl","performAppChanges","loadApps","cancelNavigation","loadPromises","callAllEventListeners","getCustomEventDetail","finishUpAndReturn","unloadPromises","allUnmountPromises","unmountAllPromise","loadThenMountPromises","tryToBootstrapAndMount","mountPromises","appToMount","returnValue","appChangeEventName","nextPendingPromises","pendingPromise","isBeforeChanges","extraProperties","newAppStatuses","appsByNewStatus","addApp","totalAppChanges","originalEvent","started","start","getRawAppData","__SINGLE_SPA_DEVTOOLS__","exposedMethods","g","Function","webpackAsyncContext","req","ids","u","iterator","constructor","configurable","writable","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","from","f","TypeError","toString","v","y","a","b","w","E","N","substr","O","C","P","L","getAttribute","attrs","toLowerCase","j","hasAttribute","x","nodeName","childNodes","loaders","loader","errors","S","routes","default","exact","redirects","Node","nodeType","TEXT_NODE","textContent","W","innerHTML","D","nextSibling","firstChild","insertBefore","H","k","R","URL","q","V","X","resolvedRoutes","singleSpaLayoutData","DOMParser","parseFromString","documentElement","querySelector","content","isConnected","parentNode","removeChild","base","containerEl","disableWarnings","HTMLElement","parentPath","siblingActiveWhens","parentActiveWhen","constructRoutes","authToken","userInfo","log","applications","F","getElementById","style","display","body","removeProperty","removeAttribute","next","done","return","layoutEngine","active","activate","deactivate","M","applicationName","T","parentContainer","previousSibling","shouldMount","applicationContainers","connectedNode","cloneNode","B","createTextNode","createComment","remove","constructLayoutEngine"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"0\":\"comment\",\"2\":\"recommend\"}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","import { objectType, toName } from \"./app.helpers\";\n\nlet errorHandlers = [];\n\nexport function handleAppError(err, app, newStatus) {\n  const transformedErr = transformErr(err, app, newStatus);\n\n  if (errorHandlers.length) {\n    errorHandlers.forEach((handler) => handler(transformedErr));\n  } else {\n    setTimeout(() => {\n      throw transformedErr;\n    });\n  }\n}\n\nexport function addErrorHandler(handler) {\n  if (typeof handler !== \"function\") {\n    throw Error(\n      formatErrorMessage(\n        28,\n        __DEV__ && \"a single-spa error handler must be a function\"\n      )\n    );\n  }\n\n  errorHandlers.push(handler);\n}\n\nexport function removeErrorHandler(handler) {\n  if (typeof handler !== \"function\") {\n    throw Error(\n      formatErrorMessage(\n        29,\n        __DEV__ && \"a single-spa error handler must be a function\"\n      )\n    );\n  }\n\n  let removedSomething = false;\n  errorHandlers = errorHandlers.filter((h) => {\n    const isHandler = h === handler;\n    removedSomething = removedSomething || isHandler;\n    return !isHandler;\n  });\n\n  return removedSomething;\n}\n\nexport function formatErrorMessage(code, msg, ...args) {\n  return `single-spa minified message #${code}: ${\n    msg ? msg + \" \" : \"\"\n  }See https://single-spa.js.org/error/?code=${code}${\n    args.length ? `&arg=${args.join(\"&arg=\")}` : \"\"\n  }`;\n}\n\nexport function transformErr(ogErr, appOrParcel, newStatus) {\n  const errPrefix = `${objectType(appOrParcel)} '${toName(\n    appOrParcel\n  )}' died in status ${appOrParcel.status}: `;\n\n  let result;\n\n  if (ogErr instanceof Error) {\n    try {\n      ogErr.message = errPrefix + ogErr.message;\n    } catch (err) {\n      /* Some errors have read-only message properties, in which case there is nothing\n       * that we can do.\n       */\n    }\n    result = ogErr;\n  } else {\n    console.warn(\n      formatErrorMessage(\n        30,\n        __DEV__ &&\n          `While ${appOrParcel.status}, '${toName(\n            appOrParcel\n          )}' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate.`,\n        appOrParcel.status,\n        toName(appOrParcel)\n      )\n    );\n    try {\n      result = Error(errPrefix + JSON.stringify(ogErr));\n    } catch (err) {\n      // If it's not an Error and you can't stringify it, then what else can you even do to it?\n      result = ogErr;\n    }\n  }\n\n  result.appOrParcelName = toName(appOrParcel);\n\n  // We set the status after transforming the error so that the error message\n  // references the state the application was in before the status change.\n  appOrParcel.status = newStatus;\n\n  return result;\n}\n","import { handleAppError } from \"./app-errors.js\";\n\n// App statuses\nexport const NOT_LOADED = \"NOT_LOADED\";\nexport const LOADING_SOURCE_CODE = \"LOADING_SOURCE_CODE\";\nexport const NOT_BOOTSTRAPPED = \"NOT_BOOTSTRAPPED\";\nexport const BOOTSTRAPPING = \"BOOTSTRAPPING\";\nexport const NOT_MOUNTED = \"NOT_MOUNTED\";\nexport const MOUNTING = \"MOUNTING\";\nexport const MOUNTED = \"MOUNTED\";\nexport const UPDATING = \"UPDATING\";\nexport const UNMOUNTING = \"UNMOUNTING\";\nexport const UNLOADING = \"UNLOADING\";\nexport const LOAD_ERROR = \"LOAD_ERROR\";\nexport const SKIP_BECAUSE_BROKEN = \"SKIP_BECAUSE_BROKEN\";\n\nexport function isActive(app) {\n  return app.status === MOUNTED;\n}\n\nexport function shouldBeActive(app) {\n  try {\n    return app.activeWhen(window.location);\n  } catch (err) {\n    handleAppError(err, app, SKIP_BECAUSE_BROKEN);\n    return false;\n  }\n}\n\nexport function toName(app) {\n  return app.name;\n}\n\nexport function isParcel(appOrParcel) {\n  return Boolean(appOrParcel.unmountThisParcel);\n}\n\nexport function objectType(appOrParcel) {\n  return isParcel(appOrParcel) ? \"parcel\" : \"application\";\n}\n","// Object.assign() is not available in IE11. And the babel compiled output for object spread\n// syntax checks a bunch of Symbol stuff and is almost a kb. So this function is the smaller replacement.\nexport function assign() {\n  for (let i = arguments.length - 1; i > 0; i--) {\n    for (let key in arguments[i]) {\n      if (key === \"__proto__\") {\n        continue;\n      }\n      arguments[i - 1][key] = arguments[i][key];\n    }\n  }\n\n  return arguments[0];\n}\n","/* the array.prototype.find polyfill on npmjs.com is ~20kb (not worth it)\n * and lodash is ~200kb (not worth it)\n */\n\nexport function find(arr, func) {\n  for (let i = 0; i < arr.length; i++) {\n    if (func(arr[i])) {\n      return arr[i];\n    }\n  }\n\n  return null;\n}\n","import { find } from \"../utils/find.js\";\nimport { objectType, toName } from \"../applications/app.helpers.js\";\nimport { formatErrorMessage } from \"../applications/app-errors.js\";\n\nexport function validLifecycleFn(fn) {\n  return fn && (typeof fn === \"function\" || isArrayOfFns(fn));\n\n  function isArrayOfFns(arr) {\n    return (\n      Array.isArray(arr) && !find(arr, (item) => typeof item !== \"function\")\n    );\n  }\n}\n\nexport function flattenFnArray(appOrParcel, lifecycle) {\n  let fns = appOrParcel[lifecycle] || [];\n  fns = Array.isArray(fns) ? fns : [fns];\n  if (fns.length === 0) {\n    fns = [() => Promise.resolve()];\n  }\n\n  const type = objectType(appOrParcel);\n  const name = toName(appOrParcel);\n\n  return function (props) {\n    return fns.reduce((resultPromise, fn, index) => {\n      return resultPromise.then(() => {\n        const thisPromise = fn(props);\n        return smellsLikeAPromise(thisPromise)\n          ? thisPromise\n          : Promise.reject(\n              formatErrorMessage(\n                15,\n                __DEV__ &&\n                  `Within ${type} ${name}, the lifecycle function ${lifecycle} at array index ${index} did not return a promise`,\n                type,\n                name,\n                lifecycle,\n                index\n              )\n            );\n      });\n    }, Promise.resolve());\n  };\n}\n\nexport function smellsLikeAPromise(promise) {\n  return (\n    promise &&\n    typeof promise.then === \"function\" &&\n    typeof promise.catch === \"function\"\n  );\n}\n","import {\n  NOT_BOOTSTRAPPED,\n  BOOTSTRAPPING,\n  NOT_MOUNTED,\n  SKIP_BECAUSE_BROKEN,\n} from \"../applications/app.helpers.js\";\nimport { reasonableTime } from \"../applications/timeouts.js\";\nimport { handleAppError, transformErr } from \"../applications/app-errors.js\";\n\nexport function toBootstrapPromise(appOrParcel, hardFail) {\n  return Promise.resolve().then(() => {\n    if (appOrParcel.status !== NOT_BOOTSTRAPPED) {\n      return appOrParcel;\n    }\n\n    appOrParcel.status = BOOTSTRAPPING;\n\n    if (!appOrParcel.bootstrap) {\n      // Default implementation of bootstrap\n      return Promise.resolve().then(successfulBootstrap);\n    }\n\n    return reasonableTime(appOrParcel, \"bootstrap\")\n      .then(successfulBootstrap)\n      .catch((err) => {\n        if (hardFail) {\n          throw transformErr(err, appOrParcel, SKIP_BECAUSE_BROKEN);\n        } else {\n          handleAppError(err, appOrParcel, SKIP_BECAUSE_BROKEN);\n          return appOrParcel;\n        }\n      });\n  });\n\n  function successfulBootstrap() {\n    appOrParcel.status = NOT_MOUNTED;\n    return appOrParcel;\n  }\n}\n","import {\n  UNMOUNTING,\n  NOT_MOUNTED,\n  MOUNTED,\n  SKIP_BECAUSE_BROKEN,\n} from \"../applications/app.helpers.js\";\nimport { handleAppError, transformErr } from \"../applications/app-errors.js\";\nimport { reasonableTime } from \"../applications/timeouts.js\";\n\nexport function toUnmountPromise(appOrParcel, hardFail) {\n  return Promise.resolve().then(() => {\n    if (appOrParcel.status !== MOUNTED) {\n      return appOrParcel;\n    }\n    appOrParcel.status = UNMOUNTING;\n\n    const unmountChildrenParcels = Object.keys(\n      appOrParcel.parcels\n    ).map((parcelId) => appOrParcel.parcels[parcelId].unmountThisParcel());\n\n    let parcelError;\n\n    return Promise.all(unmountChildrenParcels)\n      .then(unmountAppOrParcel, (parcelError) => {\n        // There is a parcel unmount error\n        return unmountAppOrParcel().then(() => {\n          // Unmounting the app/parcel succeeded, but unmounting its children parcels did not\n          const parentError = Error(parcelError.message);\n          if (hardFail) {\n            throw transformErr(parentError, appOrParcel, SKIP_BECAUSE_BROKEN);\n          } else {\n            handleAppError(parentError, appOrParcel, SKIP_BECAUSE_BROKEN);\n          }\n        });\n      })\n      .then(() => appOrParcel);\n\n    function unmountAppOrParcel() {\n      // We always try to unmount the appOrParcel, even if the children parcels failed to unmount.\n      return reasonableTime(appOrParcel, \"unmount\")\n        .then(() => {\n          // The appOrParcel needs to stay in a broken status if its children parcels fail to unmount\n          if (!parcelError) {\n            appOrParcel.status = NOT_MOUNTED;\n          }\n        })\n        .catch((err) => {\n          if (hardFail) {\n            throw transformErr(err, appOrParcel, SKIP_BECAUSE_BROKEN);\n          } else {\n            handleAppError(err, appOrParcel, SKIP_BECAUSE_BROKEN);\n          }\n        });\n    }\n  });\n}\n","import {\n  NOT_MOUNTED,\n  MOUNTED,\n  SKIP_BECAUSE_BROKEN,\n} from \"../applications/app.helpers.js\";\nimport { handleAppError, transformErr } from \"../applications/app-errors.js\";\nimport { reasonableTime } from \"../applications/timeouts.js\";\nimport CustomEvent from \"custom-event\";\nimport { toUnmountPromise } from \"./unmount.js\";\n\nlet beforeFirstMountFired = false;\nlet firstMountFired = false;\n\nexport function toMountPromise(appOrParcel, hardFail) {\n  return Promise.resolve().then(() => {\n    if (appOrParcel.status !== NOT_MOUNTED) {\n      return appOrParcel;\n    }\n\n    if (!beforeFirstMountFired) {\n      window.dispatchEvent(new CustomEvent(\"single-spa:before-first-mount\"));\n      beforeFirstMountFired = true;\n    }\n\n    return reasonableTime(appOrParcel, \"mount\")\n      .then(() => {\n        appOrParcel.status = MOUNTED;\n\n        if (!firstMountFired) {\n          window.dispatchEvent(new CustomEvent(\"single-spa:first-mount\"));\n          firstMountFired = true;\n        }\n\n        return appOrParcel;\n      })\n      .catch((err) => {\n        // If we fail to mount the appOrParcel, we should attempt to unmount it before putting in SKIP_BECAUSE_BROKEN\n        // We temporarily put the appOrParcel into MOUNTED status so that toUnmountPromise actually attempts to unmount it\n        // instead of just doing a no-op.\n        appOrParcel.status = MOUNTED;\n        return toUnmountPromise(appOrParcel, true).then(\n          setSkipBecauseBroken,\n          setSkipBecauseBroken\n        );\n\n        function setSkipBecauseBroken() {\n          if (!hardFail) {\n            handleAppError(err, appOrParcel, SKIP_BECAUSE_BROKEN);\n            return appOrParcel;\n          } else {\n            throw transformErr(err, appOrParcel, SKIP_BECAUSE_BROKEN);\n          }\n        }\n      });\n  });\n}\n","import {\n  validLifecycleFn,\n  flattenFnArray,\n} from \"../lifecycles/lifecycle.helpers.js\";\nimport {\n  NOT_BOOTSTRAPPED,\n  NOT_MOUNTED,\n  MOUNTED,\n  LOADING_SOURCE_CODE,\n  SKIP_BECAUSE_BROKEN,\n  toName,\n} from \"../applications/app.helpers.js\";\nimport { toBootstrapPromise } from \"../lifecycles/bootstrap.js\";\nimport { toMountPromise } from \"../lifecycles/mount.js\";\nimport { toUpdatePromise } from \"../lifecycles/update.js\";\nimport { toUnmountPromise } from \"../lifecycles/unmount.js\";\nimport { ensureValidAppTimeouts } from \"../applications/timeouts.js\";\nimport { formatErrorMessage } from \"../applications/app-errors.js\";\n\nlet parcelCount = 0;\nconst rootParcels = { parcels: {} };\n\n// This is a public api, exported to users of single-spa\nexport function mountRootParcel() {\n  return mountParcel.apply(rootParcels, arguments);\n}\n\nexport function mountParcel(config, customProps) {\n  const owningAppOrParcel = this;\n\n  // Validate inputs\n  if (!config || (typeof config !== \"object\" && typeof config !== \"function\")) {\n    throw Error(\n      formatErrorMessage(\n        2,\n        __DEV__ &&\n          \"Cannot mount parcel without a config object or config loading function\"\n      )\n    );\n  }\n\n  if (config.name && typeof config.name !== \"string\") {\n    throw Error(\n      formatErrorMessage(\n        3,\n        __DEV__ &&\n          `Parcel name must be a string, if provided. Was given ${typeof config.name}`,\n        typeof config.name\n      )\n    );\n  }\n\n  if (typeof customProps !== \"object\") {\n    throw Error(\n      formatErrorMessage(\n        4,\n        __DEV__ &&\n          `Parcel ${name} has invalid customProps -- must be an object but was given ${typeof customProps}`,\n        name,\n        typeof customProps\n      )\n    );\n  }\n\n  if (!customProps.domElement) {\n    throw Error(\n      formatErrorMessage(\n        5,\n        __DEV__ &&\n          `Parcel ${name} cannot be mounted without a domElement provided as a prop`,\n        name\n      )\n    );\n  }\n\n  const id = parcelCount++;\n\n  const passedConfigLoadingFunction = typeof config === \"function\";\n  const configLoadingFunction = passedConfigLoadingFunction\n    ? config\n    : () => Promise.resolve(config);\n\n  // Internal representation\n  const parcel = {\n    id,\n    parcels: {},\n    status: passedConfigLoadingFunction\n      ? LOADING_SOURCE_CODE\n      : NOT_BOOTSTRAPPED,\n    customProps,\n    parentName: toName(owningAppOrParcel),\n    unmountThisParcel() {\n      return mountPromise\n        .then(() => {\n          if (parcel.status !== MOUNTED) {\n            throw Error(\n              formatErrorMessage(\n                6,\n                __DEV__ &&\n                  `Cannot unmount parcel '${name}' -- it is in a ${parcel.status} status`,\n                name,\n                parcel.status\n              )\n            );\n          }\n          return toUnmountPromise(parcel, true);\n        })\n        .then((value) => {\n          if (parcel.parentName) {\n            delete owningAppOrParcel.parcels[parcel.id];\n          }\n\n          return value;\n        })\n        .then((value) => {\n          resolveUnmount(value);\n          return value;\n        })\n        .catch((err) => {\n          parcel.status = SKIP_BECAUSE_BROKEN;\n          rejectUnmount(err);\n          throw err;\n        });\n    },\n  };\n\n  // We return an external representation\n  let externalRepresentation;\n\n  // Add to owning app or parcel\n  owningAppOrParcel.parcels[id] = parcel;\n\n  let loadPromise = configLoadingFunction();\n\n  if (!loadPromise || typeof loadPromise.then !== \"function\") {\n    throw Error(\n      formatErrorMessage(\n        7,\n        __DEV__ &&\n          `When mounting a parcel, the config loading function must return a promise that resolves with the parcel config`\n      )\n    );\n  }\n\n  loadPromise = loadPromise.then((config) => {\n    if (!config) {\n      throw Error(\n        formatErrorMessage(\n          8,\n          __DEV__ &&\n            `When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config`\n        )\n      );\n    }\n\n    const name = config.name || `parcel-${id}`;\n\n    if (\n      // ES Module objects don't have the object prototype\n      Object.prototype.hasOwnProperty.call(config, \"bootstrap\") &&\n      !validLifecycleFn(config.bootstrap)\n    ) {\n      throw Error(\n        formatErrorMessage(\n          9,\n          __DEV__ && `Parcel ${name} provided an invalid bootstrap function`,\n          name\n        )\n      );\n    }\n\n    if (!validLifecycleFn(config.mount)) {\n      throw Error(\n        formatErrorMessage(\n          10,\n          __DEV__ && `Parcel ${name} must have a valid mount function`,\n          name\n        )\n      );\n    }\n\n    if (!validLifecycleFn(config.unmount)) {\n      throw Error(\n        formatErrorMessage(\n          11,\n          __DEV__ && `Parcel ${name} must have a valid unmount function`,\n          name\n        )\n      );\n    }\n\n    if (config.update && !validLifecycleFn(config.update)) {\n      throw Error(\n        formatErrorMessage(\n          12,\n          __DEV__ && `Parcel ${name} provided an invalid update function`,\n          name\n        )\n      );\n    }\n\n    const bootstrap = flattenFnArray(config, \"bootstrap\");\n    const mount = flattenFnArray(config, \"mount\");\n    const unmount = flattenFnArray(config, \"unmount\");\n\n    parcel.status = NOT_BOOTSTRAPPED;\n    parcel.name = name;\n    parcel.bootstrap = bootstrap;\n    parcel.mount = mount;\n    parcel.unmount = unmount;\n    parcel.timeouts = ensureValidAppTimeouts(config.timeouts);\n\n    if (config.update) {\n      parcel.update = flattenFnArray(config, \"update\");\n      externalRepresentation.update = function (customProps) {\n        parcel.customProps = customProps;\n\n        return promiseWithoutReturnValue(toUpdatePromise(parcel));\n      };\n    }\n  });\n\n  // Start bootstrapping and mounting\n  // The .then() causes the work to be put on the event loop instead of happening immediately\n  const bootstrapPromise = loadPromise.then(() =>\n    toBootstrapPromise(parcel, true)\n  );\n  const mountPromise = bootstrapPromise.then(() =>\n    toMountPromise(parcel, true)\n  );\n\n  let resolveUnmount, rejectUnmount;\n\n  const unmountPromise = new Promise((resolve, reject) => {\n    resolveUnmount = resolve;\n    rejectUnmount = reject;\n  });\n\n  externalRepresentation = {\n    mount() {\n      return promiseWithoutReturnValue(\n        Promise.resolve().then(() => {\n          if (parcel.status !== NOT_MOUNTED) {\n            throw Error(\n              formatErrorMessage(\n                13,\n                __DEV__ &&\n                  `Cannot mount parcel '${name}' -- it is in a ${parcel.status} status`,\n                name,\n                parcel.status\n              )\n            );\n          }\n\n          // Add to owning app or parcel\n          owningAppOrParcel.parcels[id] = parcel;\n\n          return toMountPromise(parcel);\n        })\n      );\n    },\n    unmount() {\n      return promiseWithoutReturnValue(parcel.unmountThisParcel());\n    },\n    getStatus() {\n      return parcel.status;\n    },\n    loadPromise: promiseWithoutReturnValue(loadPromise),\n    bootstrapPromise: promiseWithoutReturnValue(bootstrapPromise),\n    mountPromise: promiseWithoutReturnValue(mountPromise),\n    unmountPromise: promiseWithoutReturnValue(unmountPromise),\n  };\n\n  return externalRepresentation;\n}\n\nfunction promiseWithoutReturnValue(promise) {\n  return promise.then(() => null);\n}\n","import {\n  UPDATING,\n  MOUNTED,\n  SKIP_BECAUSE_BROKEN,\n  toName,\n} from \"../applications/app.helpers.js\";\nimport {\n  transformErr,\n  formatErrorMessage,\n} from \"../applications/app-errors.js\";\nimport { reasonableTime } from \"../applications/timeouts.js\";\n\nexport function toUpdatePromise(parcel) {\n  return Promise.resolve().then(() => {\n    if (parcel.status !== MOUNTED) {\n      throw Error(\n        formatErrorMessage(\n          32,\n          __DEV__ &&\n            `Cannot update parcel '${toName(\n              parcel\n            )}' because it is not mounted`,\n          toName(parcel)\n        )\n      );\n    }\n\n    parcel.status = UPDATING;\n\n    return reasonableTime(parcel, \"update\")\n      .then(() => {\n        parcel.status = MOUNTED;\n        return parcel;\n      })\n      .catch((err) => {\n        throw transformErr(err, parcel, SKIP_BECAUSE_BROKEN);\n      });\n  });\n}\n","import * as singleSpa from \"../single-spa.js\";\nimport { mountParcel } from \"../parcels/mount-parcel.js\";\nimport { assign } from \"../utils/assign.js\";\nimport { isParcel, toName } from \"../applications/app.helpers.js\";\nimport { formatErrorMessage } from \"../applications/app-errors.js\";\n\nexport function getProps(appOrParcel) {\n  const name = toName(appOrParcel);\n  let customProps =\n    typeof appOrParcel.customProps === \"function\"\n      ? appOrParcel.customProps(name, window.location)\n      : appOrParcel.customProps;\n  if (\n    typeof customProps !== \"object\" ||\n    customProps === null ||\n    Array.isArray(customProps)\n  ) {\n    customProps = {};\n    console.warn(\n      formatErrorMessage(\n        40,\n        __DEV__ &&\n          `single-spa: ${name}'s customProps function must return an object. Received ${customProps}`\n      ),\n      name,\n      customProps\n    );\n  }\n  const result = assign({}, customProps, {\n    name,\n    mountParcel: mountParcel.bind(appOrParcel),\n    singleSpa,\n  });\n\n  if (isParcel(appOrParcel)) {\n    result.unmountSelf = appOrParcel.unmountThisParcel;\n  }\n\n  return result;\n}\n","import { assign } from \"../utils/assign\";\nimport { getProps } from \"../lifecycles/prop.helpers\";\nimport { objectType, toName } from \"./app.helpers\";\nimport { formatErrorMessage } from \"./app-errors\";\n\nconst defaultWarningMillis = 1000;\n\nconst globalTimeoutConfig = {\n  bootstrap: {\n    millis: 4000,\n    dieOnTimeout: false,\n    warningMillis: defaultWarningMillis,\n  },\n  mount: {\n    millis: 3000,\n    dieOnTimeout: false,\n    warningMillis: defaultWarningMillis,\n  },\n  unmount: {\n    millis: 3000,\n    dieOnTimeout: false,\n    warningMillis: defaultWarningMillis,\n  },\n  unload: {\n    millis: 3000,\n    dieOnTimeout: false,\n    warningMillis: defaultWarningMillis,\n  },\n  update: {\n    millis: 3000,\n    dieOnTimeout: false,\n    warningMillis: defaultWarningMillis,\n  },\n};\n\nexport function setBootstrapMaxTime(time, dieOnTimeout, warningMillis) {\n  if (typeof time !== \"number\" || time <= 0) {\n    throw Error(\n      formatErrorMessage(\n        16,\n        __DEV__ &&\n          `bootstrap max time must be a positive integer number of milliseconds`\n      )\n    );\n  }\n\n  globalTimeoutConfig.bootstrap = {\n    millis: time,\n    dieOnTimeout,\n    warningMillis: warningMillis || defaultWarningMillis,\n  };\n}\n\nexport function setMountMaxTime(time, dieOnTimeout, warningMillis) {\n  if (typeof time !== \"number\" || time <= 0) {\n    throw Error(\n      formatErrorMessage(\n        17,\n        __DEV__ &&\n          `mount max time must be a positive integer number of milliseconds`\n      )\n    );\n  }\n\n  globalTimeoutConfig.mount = {\n    millis: time,\n    dieOnTimeout,\n    warningMillis: warningMillis || defaultWarningMillis,\n  };\n}\n\nexport function setUnmountMaxTime(time, dieOnTimeout, warningMillis) {\n  if (typeof time !== \"number\" || time <= 0) {\n    throw Error(\n      formatErrorMessage(\n        18,\n        __DEV__ &&\n          `unmount max time must be a positive integer number of milliseconds`\n      )\n    );\n  }\n\n  globalTimeoutConfig.unmount = {\n    millis: time,\n    dieOnTimeout,\n    warningMillis: warningMillis || defaultWarningMillis,\n  };\n}\n\nexport function setUnloadMaxTime(time, dieOnTimeout, warningMillis) {\n  if (typeof time !== \"number\" || time <= 0) {\n    throw Error(\n      formatErrorMessage(\n        19,\n        __DEV__ &&\n          `unload max time must be a positive integer number of milliseconds`\n      )\n    );\n  }\n\n  globalTimeoutConfig.unload = {\n    millis: time,\n    dieOnTimeout,\n    warningMillis: warningMillis || defaultWarningMillis,\n  };\n}\n\nexport function reasonableTime(appOrParcel, lifecycle) {\n  const timeoutConfig = appOrParcel.timeouts[lifecycle];\n  const warningPeriod = timeoutConfig.warningMillis;\n  const type = objectType(appOrParcel);\n\n  return new Promise((resolve, reject) => {\n    let finished = false;\n    let errored = false;\n\n    appOrParcel[lifecycle](getProps(appOrParcel))\n      .then((val) => {\n        finished = true;\n        resolve(val);\n      })\n      .catch((val) => {\n        finished = true;\n        reject(val);\n      });\n\n    setTimeout(() => maybeTimingOut(1), warningPeriod);\n    setTimeout(() => maybeTimingOut(true), timeoutConfig.millis);\n\n    const errMsg = formatErrorMessage(\n      31,\n      __DEV__ &&\n        `Lifecycle function ${lifecycle} for ${type} ${toName(\n          appOrParcel\n        )} lifecycle did not resolve or reject for ${timeoutConfig.millis} ms.`,\n      lifecycle,\n      type,\n      toName(appOrParcel),\n      timeoutConfig.millis\n    );\n\n    function maybeTimingOut(shouldError) {\n      if (!finished) {\n        if (shouldError === true) {\n          errored = true;\n          if (timeoutConfig.dieOnTimeout) {\n            reject(Error(errMsg));\n          } else {\n            console.error(errMsg);\n            //don't resolve or reject, we're waiting this one out\n          }\n        } else if (!errored) {\n          const numWarnings = shouldError;\n          const numMillis = numWarnings * warningPeriod;\n          console.warn(errMsg);\n          if (numMillis + warningPeriod < timeoutConfig.millis) {\n            setTimeout(() => maybeTimingOut(numWarnings + 1), warningPeriod);\n          }\n        }\n      }\n    }\n  });\n}\n\nexport function ensureValidAppTimeouts(timeouts) {\n  const result = {};\n\n  for (let key in globalTimeoutConfig) {\n    result[key] = assign(\n      {},\n      globalTimeoutConfig[key],\n      (timeouts && timeouts[key]) || {}\n    );\n  }\n\n  return result;\n}\n","import {\n  LOAD_ERROR,\n  NOT_BOOTSTRAPPED,\n  LOADING_SOURCE_CODE,\n  SKIP_BECAUSE_BROKEN,\n  NOT_LOADED,\n  objectType,\n  toName,\n} from \"../applications/app.helpers.js\";\nimport { ensureValidAppTimeouts } from \"../applications/timeouts.js\";\nimport {\n  handleAppError,\n  formatErrorMessage,\n} from \"../applications/app-errors.js\";\nimport {\n  flattenFnArray,\n  smellsLikeAPromise,\n  validLifecycleFn,\n} from \"./lifecycle.helpers.js\";\nimport { getProps } from \"./prop.helpers.js\";\nimport { assign } from \"../utils/assign.js\";\n\nexport function toLoadPromise(app) {\n  return Promise.resolve().then(() => {\n    if (app.loadPromise) {\n      return app.loadPromise;\n    }\n\n    if (app.status !== NOT_LOADED && app.status !== LOAD_ERROR) {\n      return app;\n    }\n\n    app.status = LOADING_SOURCE_CODE;\n\n    let appOpts, isUserErr;\n\n    return (app.loadPromise = Promise.resolve()\n      .then(() => {\n        const loadPromise = app.loadApp(getProps(app));\n        if (!smellsLikeAPromise(loadPromise)) {\n          // The name of the app will be prepended to this error message inside of the handleAppError function\n          isUserErr = true;\n          throw Error(\n            formatErrorMessage(\n              33,\n              __DEV__ &&\n                `single-spa loading function did not return a promise. Check the second argument to registerApplication('${toName(\n                  app\n                )}', loadingFunction, activityFunction)`,\n              toName(app)\n            )\n          );\n        }\n        return loadPromise.then((val) => {\n          app.loadErrorTime = null;\n\n          appOpts = val;\n\n          let validationErrMessage, validationErrCode;\n\n          if (typeof appOpts !== \"object\") {\n            validationErrCode = 34;\n            if (__DEV__) {\n              validationErrMessage = `does not export anything`;\n            }\n          }\n\n          if (\n            // ES Modules don't have the Object prototype\n            Object.prototype.hasOwnProperty.call(appOpts, \"bootstrap\") &&\n            !validLifecycleFn(appOpts.bootstrap)\n          ) {\n            validationErrCode = 35;\n            if (__DEV__) {\n              validationErrMessage = `does not export a valid bootstrap function or array of functions`;\n            }\n          }\n\n          if (!validLifecycleFn(appOpts.mount)) {\n            validationErrCode = 36;\n            if (__DEV__) {\n              validationErrMessage = `does not export a mount function or array of functions`;\n            }\n          }\n\n          if (!validLifecycleFn(appOpts.unmount)) {\n            validationErrCode = 37;\n            if (__DEV__) {\n              validationErrMessage = `does not export a unmount function or array of functions`;\n            }\n          }\n\n          const type = objectType(appOpts);\n\n          if (validationErrCode) {\n            let appOptsStr;\n            try {\n              appOptsStr = JSON.stringify(appOpts);\n            } catch {}\n            console.error(\n              formatErrorMessage(\n                validationErrCode,\n                __DEV__ &&\n                  `The loading function for single-spa ${type} '${toName(\n                    app\n                  )}' resolved with the following, which does not have bootstrap, mount, and unmount functions`,\n                type,\n                toName(app),\n                appOptsStr\n              ),\n              appOpts\n            );\n            handleAppError(validationErrMessage, app, SKIP_BECAUSE_BROKEN);\n            return app;\n          }\n\n          if (appOpts.devtools && appOpts.devtools.overlays) {\n            app.devtools.overlays = assign(\n              {},\n              app.devtools.overlays,\n              appOpts.devtools.overlays\n            );\n          }\n\n          app.status = NOT_BOOTSTRAPPED;\n          app.bootstrap = flattenFnArray(appOpts, \"bootstrap\");\n          app.mount = flattenFnArray(appOpts, \"mount\");\n          app.unmount = flattenFnArray(appOpts, \"unmount\");\n          app.unload = flattenFnArray(appOpts, \"unload\");\n          app.timeouts = ensureValidAppTimeouts(appOpts.timeouts);\n\n          delete app.loadPromise;\n\n          return app;\n        });\n      })\n      .catch((err) => {\n        delete app.loadPromise;\n\n        let newStatus;\n        if (isUserErr) {\n          newStatus = SKIP_BECAUSE_BROKEN;\n        } else {\n          newStatus = LOAD_ERROR;\n          app.loadErrorTime = new Date().getTime();\n        }\n        handleAppError(err, app, newStatus);\n\n        return app;\n      }));\n  });\n}\n","export const isInBrowser = typeof window !== \"undefined\";\n","import { reroute } from \"./reroute.js\";\nimport { find } from \"../utils/find.js\";\nimport { formatErrorMessage } from \"../applications/app-errors.js\";\nimport { isInBrowser } from \"../utils/runtime-environment.js\";\nimport { isStarted } from \"../start.js\";\n\n/* We capture navigation event listeners so that we can make sure\n * that application navigation listeners are not called until\n * single-spa has ensured that the correct applications are\n * unmounted and mounted.\n */\nconst capturedEventListeners = {\n  hashchange: [],\n  popstate: [],\n};\n\nexport const routingEventsListeningTo = [\"hashchange\", \"popstate\"];\n\nexport function navigateToUrl(obj) {\n  let url;\n  if (typeof obj === \"string\") {\n    url = obj;\n  } else if (this && this.href) {\n    url = this.href;\n  } else if (\n    obj &&\n    obj.currentTarget &&\n    obj.currentTarget.href &&\n    obj.preventDefault\n  ) {\n    url = obj.currentTarget.href;\n    obj.preventDefault();\n  } else {\n    throw Error(\n      formatErrorMessage(\n        14,\n        __DEV__ &&\n          `singleSpaNavigate/navigateToUrl must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag`\n      )\n    );\n  }\n\n  const current = parseUri(window.location.href);\n  const destination = parseUri(url);\n\n  if (url.indexOf(\"#\") === 0) {\n    window.location.hash = destination.hash;\n  } else if (current.host !== destination.host && destination.host) {\n    if (process.env.BABEL_ENV === \"test\") {\n      return { wouldHaveReloadedThePage: true };\n    } else {\n      window.location.href = url;\n    }\n  } else if (\n    destination.pathname === current.pathname &&\n    destination.search === current.search\n  ) {\n    window.location.hash = destination.hash;\n  } else {\n    // different path, host, or query params\n    window.history.pushState(null, null, url);\n  }\n}\n\nexport function callCapturedEventListeners(eventArguments) {\n  if (eventArguments) {\n    const eventType = eventArguments[0].type;\n    if (routingEventsListeningTo.indexOf(eventType) >= 0) {\n      capturedEventListeners[eventType].forEach((listener) => {\n        try {\n          // The error thrown by application event listener should not break single-spa down.\n          // Just like https://github.com/single-spa/single-spa/blob/85f5042dff960e40936f3a5069d56fc9477fac04/src/navigation/reroute.js#L140-L146 did\n          listener.apply(this, eventArguments);\n        } catch (e) {\n          setTimeout(() => {\n            throw e;\n          });\n        }\n      });\n    }\n  }\n}\n\nlet urlRerouteOnly;\n\nexport function setUrlRerouteOnly(val) {\n  urlRerouteOnly = val;\n}\n\nfunction urlReroute() {\n  reroute([], arguments);\n}\n\nfunction patchedUpdateState(updateState, methodName) {\n  return function () {\n    const urlBefore = window.location.href;\n    const result = updateState.apply(this, arguments);\n    const urlAfter = window.location.href;\n\n    if (!urlRerouteOnly || urlBefore !== urlAfter) {\n      if (isStarted()) {\n        // fire an artificial popstate event once single-spa is started,\n        // so that single-spa applications know about routing that\n        // occurs in a different application\n        window.dispatchEvent(\n          createPopStateEvent(window.history.state, methodName)\n        );\n      } else {\n        // do not fire an artificial popstate event before single-spa is started,\n        // since no single-spa applications need to know about routing events\n        // outside of their own router.\n        reroute([]);\n      }\n    }\n\n    return result;\n  };\n}\n\nfunction createPopStateEvent(state, originalMethodName) {\n  // https://github.com/single-spa/single-spa/issues/224 and https://github.com/single-spa/single-spa-angular/issues/49\n  // We need a popstate event even though the browser doesn't do one by default when you call replaceState, so that\n  // all the applications can reroute. We explicitly identify this extraneous event by setting singleSpa=true and\n  // singleSpaTrigger=<pushState|replaceState> on the event instance.\n  let evt;\n  try {\n    evt = new PopStateEvent(\"popstate\", { state });\n  } catch (err) {\n    // IE 11 compatibility https://github.com/single-spa/single-spa/issues/299\n    // https://docs.microsoft.com/en-us/openspecs/ie_standards/ms-html5e/bd560f47-b349-4d2c-baa8-f1560fb489dd\n    evt = document.createEvent(\"PopStateEvent\");\n    evt.initPopStateEvent(\"popstate\", false, false, state);\n  }\n  evt.singleSpa = true;\n  evt.singleSpaTrigger = originalMethodName;\n  return evt;\n}\n\nif (isInBrowser) {\n  // We will trigger an app change for any routing events.\n  window.addEventListener(\"hashchange\", urlReroute);\n  window.addEventListener(\"popstate\", urlReroute);\n\n  // Monkeypatch addEventListener so that we can ensure correct timing\n  const originalAddEventListener = window.addEventListener;\n  const originalRemoveEventListener = window.removeEventListener;\n  window.addEventListener = function (eventName, fn) {\n    if (typeof fn === \"function\") {\n      if (\n        routingEventsListeningTo.indexOf(eventName) >= 0 &&\n        !find(capturedEventListeners[eventName], (listener) => listener === fn)\n      ) {\n        capturedEventListeners[eventName].push(fn);\n        return;\n      }\n    }\n\n    return originalAddEventListener.apply(this, arguments);\n  };\n\n  window.removeEventListener = function (eventName, listenerFn) {\n    if (typeof listenerFn === \"function\") {\n      if (routingEventsListeningTo.indexOf(eventName) >= 0) {\n        capturedEventListeners[eventName] = capturedEventListeners[\n          eventName\n        ].filter((fn) => fn !== listenerFn);\n        return;\n      }\n    }\n\n    return originalRemoveEventListener.apply(this, arguments);\n  };\n\n  window.history.pushState = patchedUpdateState(\n    window.history.pushState,\n    \"pushState\"\n  );\n  window.history.replaceState = patchedUpdateState(\n    window.history.replaceState,\n    \"replaceState\"\n  );\n\n  if (window.singleSpaNavigate) {\n    console.warn(\n      formatErrorMessage(\n        41,\n        __DEV__ &&\n          \"single-spa has been loaded twice on the page. This can result in unexpected behavior.\"\n      )\n    );\n  } else {\n    /* For convenience in `onclick` attributes, we expose a global function for navigating to\n     * whatever an <a> tag's href is.\n     */\n    window.singleSpaNavigate = navigateToUrl;\n  }\n}\n\nfunction parseUri(str) {\n  const anchor = document.createElement(\"a\");\n  anchor.href = str;\n  return anchor;\n}\n","import { routingEventsListeningTo } from \"./navigation/navigation-events.js\";\n\nlet hasInitialized = false;\n\nexport function ensureJQuerySupport(jQuery = window.jQuery) {\n  if (!jQuery) {\n    if (window.$ && window.$.fn && window.$.fn.jquery) {\n      jQuery = window.$;\n    }\n  }\n\n  if (jQuery && !hasInitialized) {\n    const originalJQueryOn = jQuery.fn.on;\n    const originalJQueryOff = jQuery.fn.off;\n\n    jQuery.fn.on = function (eventString, fn) {\n      return captureRoutingEvents.call(\n        this,\n        originalJQueryOn,\n        window.addEventListener,\n        eventString,\n        fn,\n        arguments\n      );\n    };\n\n    jQuery.fn.off = function (eventString, fn) {\n      return captureRoutingEvents.call(\n        this,\n        originalJQueryOff,\n        window.removeEventListener,\n        eventString,\n        fn,\n        arguments\n      );\n    };\n\n    hasInitialized = true;\n  }\n}\n\nfunction captureRoutingEvents(\n  originalJQueryFunction,\n  nativeFunctionToCall,\n  eventString,\n  fn,\n  originalArgs\n) {\n  if (typeof eventString !== \"string\") {\n    return originalJQueryFunction.apply(this, originalArgs);\n  }\n\n  const eventNames = eventString.split(/\\s+/);\n  eventNames.forEach((eventName) => {\n    if (routingEventsListeningTo.indexOf(eventName) >= 0) {\n      nativeFunctionToCall(eventName, fn);\n      eventString = eventString.replace(eventName, \"\");\n    }\n  });\n\n  if (eventString.trim() === \"\") {\n    return this;\n  } else {\n    return originalJQueryFunction.apply(this, originalArgs);\n  }\n}\n","import {\n  NOT_MOUNTED,\n  UNLOADING,\n  NOT_LOADED,\n  LOAD_ERROR,\n  SKIP_BECAUSE_BROKEN,\n  toName,\n} from \"../applications/app.helpers.js\";\nimport { handleAppError } from \"../applications/app-errors.js\";\nimport { reasonableTime } from \"../applications/timeouts.js\";\n\nconst appsToUnload = {};\n\nexport function toUnloadPromise(app) {\n  return Promise.resolve().then(() => {\n    const unloadInfo = appsToUnload[toName(app)];\n\n    if (!unloadInfo) {\n      /* No one has called unloadApplication for this app,\n       */\n      return app;\n    }\n\n    if (app.status === NOT_LOADED) {\n      /* This app is already unloaded. We just need to clean up\n       * anything that still thinks we need to unload the app.\n       */\n      finishUnloadingApp(app, unloadInfo);\n      return app;\n    }\n\n    if (app.status === UNLOADING) {\n      /* Both unloadApplication and reroute want to unload this app.\n       * It only needs to be done once, though.\n       */\n      return unloadInfo.promise.then(() => app);\n    }\n\n    if (app.status !== NOT_MOUNTED && app.status !== LOAD_ERROR) {\n      /* The app cannot be unloaded until it is unmounted.\n       */\n      return app;\n    }\n\n    const unloadPromise =\n      app.status === LOAD_ERROR\n        ? Promise.resolve()\n        : reasonableTime(app, \"unload\");\n\n    app.status = UNLOADING;\n\n    return unloadPromise\n      .then(() => {\n        finishUnloadingApp(app, unloadInfo);\n        return app;\n      })\n      .catch((err) => {\n        errorUnloadingApp(app, unloadInfo, err);\n        return app;\n      });\n  });\n}\n\nfunction finishUnloadingApp(app, unloadInfo) {\n  delete appsToUnload[toName(app)];\n\n  // Unloaded apps don't have lifecycles\n  delete app.bootstrap;\n  delete app.mount;\n  delete app.unmount;\n  delete app.unload;\n\n  app.status = NOT_LOADED;\n\n  /* resolve the promise of whoever called unloadApplication.\n   * This should be done after all other cleanup/bookkeeping\n   */\n  unloadInfo.resolve();\n}\n\nfunction errorUnloadingApp(app, unloadInfo, err) {\n  delete appsToUnload[toName(app)];\n\n  // Unloaded apps don't have lifecycles\n  delete app.bootstrap;\n  delete app.mount;\n  delete app.unmount;\n  delete app.unload;\n\n  handleAppError(err, app, SKIP_BECAUSE_BROKEN);\n  unloadInfo.reject(err);\n}\n\nexport function addAppToUnload(app, promiseGetter, resolve, reject) {\n  appsToUnload[toName(app)] = { app, resolve, reject };\n  Object.defineProperty(appsToUnload[toName(app)], \"promise\", {\n    get: promiseGetter,\n  });\n}\n\nexport function getAppUnloadInfo(appName) {\n  return appsToUnload[appName];\n}\n","import { ensureJQuerySupport } from \"../jquery-support.js\";\nimport {\n  isActive,\n  toName,\n  NOT_LOADED,\n  NOT_BOOTSTRAPPED,\n  NOT_MOUNTED,\n  MOUNTED,\n  LOAD_ERROR,\n  SKIP_BECAUSE_BROKEN,\n  LOADING_SOURCE_CODE,\n  shouldBeActive,\n} from \"./app.helpers.js\";\nimport { reroute } from \"../navigation/reroute.js\";\nimport { find } from \"../utils/find.js\";\nimport { toUnmountPromise } from \"../lifecycles/unmount.js\";\nimport {\n  toUnloadPromise,\n  getAppUnloadInfo,\n  addAppToUnload,\n} from \"../lifecycles/unload.js\";\nimport { formatErrorMessage } from \"./app-errors.js\";\nimport { isInBrowser } from \"../utils/runtime-environment.js\";\nimport { assign } from \"../utils/assign\";\n\nconst apps = [];\n\nexport function getAppChanges() {\n  const appsToUnload = [],\n    appsToUnmount = [],\n    appsToLoad = [],\n    appsToMount = [];\n\n  // We re-attempt to download applications in LOAD_ERROR after a timeout of 200 milliseconds\n  const currentTime = new Date().getTime();\n\n  apps.forEach((app) => {\n    const appShouldBeActive =\n      app.status !== SKIP_BECAUSE_BROKEN && shouldBeActive(app);\n\n    switch (app.status) {\n      case LOAD_ERROR:\n        if (appShouldBeActive && currentTime - app.loadErrorTime >= 200) {\n          appsToLoad.push(app);\n        }\n        break;\n      case NOT_LOADED:\n      case LOADING_SOURCE_CODE:\n        if (appShouldBeActive) {\n          appsToLoad.push(app);\n        }\n        break;\n      case NOT_BOOTSTRAPPED:\n      case NOT_MOUNTED:\n        if (!appShouldBeActive && getAppUnloadInfo(toName(app))) {\n          appsToUnload.push(app);\n        } else if (appShouldBeActive) {\n          appsToMount.push(app);\n        }\n        break;\n      case MOUNTED:\n        if (!appShouldBeActive) {\n          appsToUnmount.push(app);\n        }\n        break;\n      // all other statuses are ignored\n    }\n  });\n\n  return { appsToUnload, appsToUnmount, appsToLoad, appsToMount };\n}\n\nexport function getMountedApps() {\n  return apps.filter(isActive).map(toName);\n}\n\nexport function getAppNames() {\n  return apps.map(toName);\n}\n\n// used in devtools, not (currently) exposed as a single-spa API\nexport function getRawAppData() {\n  return [...apps];\n}\n\nexport function getAppStatus(appName) {\n  const app = find(apps, (app) => toName(app) === appName);\n  return app ? app.status : null;\n}\n\nexport function registerApplication(\n  appNameOrConfig,\n  appOrLoadApp,\n  activeWhen,\n  customProps\n) {\n  const registration = sanitizeArguments(\n    appNameOrConfig,\n    appOrLoadApp,\n    activeWhen,\n    customProps\n  );\n\n  if (getAppNames().indexOf(registration.name) !== -1)\n    throw Error(\n      formatErrorMessage(\n        21,\n        __DEV__ &&\n          `There is already an app registered with name ${registration.name}`,\n        registration.name\n      )\n    );\n\n  apps.push(\n    assign(\n      {\n        loadErrorTime: null,\n        status: NOT_LOADED,\n        parcels: {},\n        devtools: {\n          overlays: {\n            options: {},\n            selectors: [],\n          },\n        },\n      },\n      registration\n    )\n  );\n\n  if (isInBrowser) {\n    ensureJQuerySupport();\n    reroute();\n  }\n}\n\nexport function checkActivityFunctions(location = window.location) {\n  return apps.filter((app) => app.activeWhen(location)).map(toName);\n}\n\nexport function unregisterApplication(appName) {\n  if (apps.filter((app) => toName(app) === appName).length === 0) {\n    throw Error(\n      formatErrorMessage(\n        25,\n        __DEV__ &&\n          `Cannot unregister application '${appName}' because no such application has been registered`,\n        appName\n      )\n    );\n  }\n\n  return unloadApplication(appName).then(() => {\n    const appIndex = apps.map(toName).indexOf(appName);\n    apps.splice(appIndex, 1);\n  });\n}\n\nexport function unloadApplication(appName, opts = { waitForUnmount: false }) {\n  if (typeof appName !== \"string\") {\n    throw Error(\n      formatErrorMessage(\n        26,\n        __DEV__ && `unloadApplication requires a string 'appName'`\n      )\n    );\n  }\n  const app = find(apps, (App) => toName(App) === appName);\n  if (!app) {\n    throw Error(\n      formatErrorMessage(\n        27,\n        __DEV__ &&\n          `Could not unload application '${appName}' because no such application has been registered`,\n        appName\n      )\n    );\n  }\n\n  const appUnloadInfo = getAppUnloadInfo(toName(app));\n  if (opts && opts.waitForUnmount) {\n    // We need to wait for unmount before unloading the app\n\n    if (appUnloadInfo) {\n      // Someone else is already waiting for this, too\n      return appUnloadInfo.promise;\n    } else {\n      // We're the first ones wanting the app to be resolved.\n      const promise = new Promise((resolve, reject) => {\n        addAppToUnload(app, () => promise, resolve, reject);\n      });\n      return promise;\n    }\n  } else {\n    /* We should unmount the app, unload it, and remount it immediately.\n     */\n\n    let resultPromise;\n\n    if (appUnloadInfo) {\n      // Someone else is already waiting for this app to unload\n      resultPromise = appUnloadInfo.promise;\n      immediatelyUnloadApp(app, appUnloadInfo.resolve, appUnloadInfo.reject);\n    } else {\n      // We're the first ones wanting the app to be resolved.\n      resultPromise = new Promise((resolve, reject) => {\n        addAppToUnload(app, () => resultPromise, resolve, reject);\n        immediatelyUnloadApp(app, resolve, reject);\n      });\n    }\n\n    return resultPromise;\n  }\n}\n\nfunction immediatelyUnloadApp(app, resolve, reject) {\n  toUnmountPromise(app)\n    .then(toUnloadPromise)\n    .then(() => {\n      resolve();\n      setTimeout(() => {\n        // reroute, but the unload promise is done\n        reroute();\n      });\n    })\n    .catch(reject);\n}\n\nfunction validateRegisterWithArguments(\n  name,\n  appOrLoadApp,\n  activeWhen,\n  customProps\n) {\n  if (typeof name !== \"string\" || name.length === 0)\n    throw Error(\n      formatErrorMessage(\n        20,\n        __DEV__ &&\n          `The 1st argument to registerApplication must be a non-empty string 'appName'`\n      )\n    );\n\n  if (!appOrLoadApp)\n    throw Error(\n      formatErrorMessage(\n        23,\n        __DEV__ &&\n          \"The 2nd argument to registerApplication must be an application or loading application function\"\n      )\n    );\n\n  if (typeof activeWhen !== \"function\")\n    throw Error(\n      formatErrorMessage(\n        24,\n        __DEV__ &&\n          \"The 3rd argument to registerApplication must be an activeWhen function\"\n      )\n    );\n\n  if (!validCustomProps(customProps))\n    throw Error(\n      formatErrorMessage(\n        22,\n        __DEV__ &&\n          \"The optional 4th argument is a customProps and must be an object\"\n      )\n    );\n}\n\nexport function validateRegisterWithConfig(config) {\n  if (Array.isArray(config) || config === null)\n    throw Error(\n      formatErrorMessage(\n        39,\n        __DEV__ && \"Configuration object can't be an Array or null!\"\n      )\n    );\n  const validKeys = [\"name\", \"app\", \"activeWhen\", \"customProps\"];\n  const invalidKeys = Object.keys(config).reduce(\n    (invalidKeys, prop) =>\n      validKeys.indexOf(prop) >= 0 ? invalidKeys : invalidKeys.concat(prop),\n    []\n  );\n  if (invalidKeys.length !== 0)\n    throw Error(\n      formatErrorMessage(\n        38,\n        __DEV__ &&\n          `The configuration object accepts only: ${validKeys.join(\n            \", \"\n          )}. Invalid keys: ${invalidKeys.join(\", \")}.`,\n        validKeys.join(\", \"),\n        invalidKeys.join(\", \")\n      )\n    );\n  if (typeof config.name !== \"string\" || config.name.length === 0)\n    throw Error(\n      formatErrorMessage(\n        20,\n        __DEV__ &&\n          \"The config.name on registerApplication must be a non-empty string\"\n      )\n    );\n  if (typeof config.app !== \"object\" && typeof config.app !== \"function\")\n    throw Error(\n      formatErrorMessage(\n        20,\n        __DEV__ &&\n          \"The config.app on registerApplication must be an application or a loading function\"\n      )\n    );\n  const allowsStringAndFunction = (activeWhen) =>\n    typeof activeWhen === \"string\" || typeof activeWhen === \"function\";\n  if (\n    !allowsStringAndFunction(config.activeWhen) &&\n    !(\n      Array.isArray(config.activeWhen) &&\n      config.activeWhen.every(allowsStringAndFunction)\n    )\n  )\n    throw Error(\n      formatErrorMessage(\n        24,\n        __DEV__ &&\n          \"The config.activeWhen on registerApplication must be a string, function or an array with both\"\n      )\n    );\n  if (!validCustomProps(config.customProps))\n    throw Error(\n      formatErrorMessage(\n        22,\n        __DEV__ && \"The optional config.customProps must be an object\"\n      )\n    );\n}\n\nfunction validCustomProps(customProps) {\n  return (\n    !customProps ||\n    typeof customProps === \"function\" ||\n    (typeof customProps === \"object\" &&\n      customProps !== null &&\n      !Array.isArray(customProps))\n  );\n}\n\nfunction sanitizeArguments(\n  appNameOrConfig,\n  appOrLoadApp,\n  activeWhen,\n  customProps\n) {\n  const usingObjectAPI = typeof appNameOrConfig === \"object\";\n\n  const registration = {\n    name: null,\n    loadApp: null,\n    activeWhen: null,\n    customProps: null,\n  };\n\n  if (usingObjectAPI) {\n    validateRegisterWithConfig(appNameOrConfig);\n    registration.name = appNameOrConfig.name;\n    registration.loadApp = appNameOrConfig.app;\n    registration.activeWhen = appNameOrConfig.activeWhen;\n    registration.customProps = appNameOrConfig.customProps;\n  } else {\n    validateRegisterWithArguments(\n      appNameOrConfig,\n      appOrLoadApp,\n      activeWhen,\n      customProps\n    );\n    registration.name = appNameOrConfig;\n    registration.loadApp = appOrLoadApp;\n    registration.activeWhen = activeWhen;\n    registration.customProps = customProps;\n  }\n\n  registration.loadApp = sanitizeLoadApp(registration.loadApp);\n  registration.customProps = sanitizeCustomProps(registration.customProps);\n  registration.activeWhen = sanitizeActiveWhen(registration.activeWhen);\n\n  return registration;\n}\n\nfunction sanitizeLoadApp(loadApp) {\n  if (typeof loadApp !== \"function\") {\n    return () => Promise.resolve(loadApp);\n  }\n\n  return loadApp;\n}\n\nfunction sanitizeCustomProps(customProps) {\n  return customProps ? customProps : {};\n}\n\nfunction sanitizeActiveWhen(activeWhen) {\n  let activeWhenArray = Array.isArray(activeWhen) ? activeWhen : [activeWhen];\n  activeWhenArray = activeWhenArray.map((activeWhenOrPath) =>\n    typeof activeWhenOrPath === \"function\"\n      ? activeWhenOrPath\n      : pathToActiveWhen(activeWhenOrPath)\n  );\n\n  return (location) =>\n    activeWhenArray.some((activeWhen) => activeWhen(location));\n}\n\nexport function pathToActiveWhen(path, exactMatch) {\n  const regex = toDynamicPathValidatorRegex(path, exactMatch);\n\n  return (location) => {\n    // compatible with IE10\n    let origin = location.origin;\n    if (!origin) {\n      origin = `${location.protocol}//${location.host}`;\n    }\n    const route = location.href\n      .replace(origin, \"\")\n      .replace(location.search, \"\")\n      .split(\"?\")[0];\n    return regex.test(route);\n  };\n}\n\nfunction toDynamicPathValidatorRegex(path, exactMatch) {\n  let lastIndex = 0,\n    inDynamic = false,\n    regexStr = \"^\";\n\n  if (path[0] !== \"/\") {\n    path = \"/\" + path;\n  }\n\n  for (let charIndex = 0; charIndex < path.length; charIndex++) {\n    const char = path[charIndex];\n    const startOfDynamic = !inDynamic && char === \":\";\n    const endOfDynamic = inDynamic && char === \"/\";\n    if (startOfDynamic || endOfDynamic) {\n      appendToRegex(charIndex);\n    }\n  }\n\n  appendToRegex(path.length);\n  return new RegExp(regexStr, \"i\");\n\n  function appendToRegex(index) {\n    const anyCharMaybeTrailingSlashRegex = \"[^/]+/?\";\n    const commonStringSubPath = escapeStrRegex(path.slice(lastIndex, index));\n\n    regexStr += inDynamic\n      ? anyCharMaybeTrailingSlashRegex\n      : commonStringSubPath;\n\n    if (index === path.length) {\n      if (inDynamic) {\n        if (exactMatch) {\n          // Ensure exact match paths that end in a dynamic portion don't match\n          // urls with characters after a slash after the dynamic portion.\n          regexStr += \"$\";\n        }\n      } else {\n        // For exact matches, expect no more characters. Otherwise, allow\n        // any characters.\n        const suffix = exactMatch ? \"\" : \".*\";\n\n        regexStr =\n          // use charAt instead as we could not use es6 method endsWith\n          regexStr.charAt(regexStr.length - 1) === \"/\"\n            ? `${regexStr}${suffix}$`\n            : `${regexStr}(/${suffix})?(#.*)?$`;\n      }\n    }\n\n    inDynamic = !inDynamic;\n    lastIndex = index;\n  }\n\n  function escapeStrRegex(str) {\n    // borrowed from https://github.com/sindresorhus/escape-string-regexp/blob/master/index.js\n    return str.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\");\n  }\n}\n","import CustomEvent from \"custom-event\";\nimport { isStarted } from \"../start.js\";\nimport { toLoadPromise } from \"../lifecycles/load.js\";\nimport { toBootstrapPromise } from \"../lifecycles/bootstrap.js\";\nimport { toMountPromise } from \"../lifecycles/mount.js\";\nimport { toUnmountPromise } from \"../lifecycles/unmount.js\";\nimport {\n  getAppStatus,\n  getAppChanges,\n  getMountedApps,\n} from \"../applications/apps.js\";\nimport {\n  callCapturedEventListeners,\n  navigateToUrl,\n} from \"./navigation-events.js\";\nimport { toUnloadPromise } from \"../lifecycles/unload.js\";\nimport {\n  toName,\n  shouldBeActive,\n  NOT_MOUNTED,\n  MOUNTED,\n  NOT_LOADED,\n  SKIP_BECAUSE_BROKEN,\n} from \"../applications/app.helpers.js\";\nimport { assign } from \"../utils/assign.js\";\nimport { isInBrowser } from \"../utils/runtime-environment.js\";\n\nlet appChangeUnderway = false,\n  peopleWaitingOnAppChange = [],\n  currentUrl = isInBrowser && window.location.href;\n\nexport function triggerAppChange() {\n  // Call reroute with no arguments, intentionally\n  return reroute();\n}\n\nexport function reroute(pendingPromises = [], eventArguments) {\n  if (appChangeUnderway) {\n    return new Promise((resolve, reject) => {\n      peopleWaitingOnAppChange.push({\n        resolve,\n        reject,\n        eventArguments,\n      });\n    });\n  }\n\n  const {\n    appsToUnload,\n    appsToUnmount,\n    appsToLoad,\n    appsToMount,\n  } = getAppChanges();\n  let appsThatChanged,\n    navigationIsCanceled = false,\n    oldUrl = currentUrl,\n    newUrl = (currentUrl = window.location.href);\n\n  if (isStarted()) {\n    appChangeUnderway = true;\n    appsThatChanged = appsToUnload.concat(\n      appsToLoad,\n      appsToUnmount,\n      appsToMount\n    );\n    return performAppChanges();\n  } else {\n    appsThatChanged = appsToLoad;\n    return loadApps();\n  }\n\n  function cancelNavigation() {\n    navigationIsCanceled = true;\n  }\n\n  function loadApps() {\n    return Promise.resolve().then(() => {\n      const loadPromises = appsToLoad.map(toLoadPromise);\n\n      return (\n        Promise.all(loadPromises)\n          .then(callAllEventListeners)\n          // there are no mounted apps, before start() is called, so we always return []\n          .then(() => [])\n          .catch((err) => {\n            callAllEventListeners();\n            throw err;\n          })\n      );\n    });\n  }\n\n  function performAppChanges() {\n    return Promise.resolve().then(() => {\n      // https://github.com/single-spa/single-spa/issues/545\n      window.dispatchEvent(\n        new CustomEvent(\n          appsThatChanged.length === 0\n            ? \"single-spa:before-no-app-change\"\n            : \"single-spa:before-app-change\",\n          getCustomEventDetail(true)\n        )\n      );\n\n      window.dispatchEvent(\n        new CustomEvent(\n          \"single-spa:before-routing-event\",\n          getCustomEventDetail(true, { cancelNavigation })\n        )\n      );\n\n      if (navigationIsCanceled) {\n        window.dispatchEvent(\n          new CustomEvent(\n            \"single-spa:before-mount-routing-event\",\n            getCustomEventDetail(true)\n          )\n        );\n        finishUpAndReturn();\n        navigateToUrl(oldUrl);\n        return;\n      }\n\n      const unloadPromises = appsToUnload.map(toUnloadPromise);\n\n      const unmountUnloadPromises = appsToUnmount\n        .map(toUnmountPromise)\n        .map((unmountPromise) => unmountPromise.then(toUnloadPromise));\n\n      const allUnmountPromises = unmountUnloadPromises.concat(unloadPromises);\n\n      const unmountAllPromise = Promise.all(allUnmountPromises);\n\n      unmountAllPromise.then(() => {\n        window.dispatchEvent(\n          new CustomEvent(\n            \"single-spa:before-mount-routing-event\",\n            getCustomEventDetail(true)\n          )\n        );\n      });\n\n      /* We load and bootstrap apps while other apps are unmounting, but we\n       * wait to mount the app until all apps are finishing unmounting\n       */\n      const loadThenMountPromises = appsToLoad.map((app) => {\n        return toLoadPromise(app).then((app) =>\n          tryToBootstrapAndMount(app, unmountAllPromise)\n        );\n      });\n\n      /* These are the apps that are already bootstrapped and just need\n       * to be mounted. They each wait for all unmounting apps to finish up\n       * before they mount.\n       */\n      const mountPromises = appsToMount\n        .filter((appToMount) => appsToLoad.indexOf(appToMount) < 0)\n        .map((appToMount) => {\n          return tryToBootstrapAndMount(appToMount, unmountAllPromise);\n        });\n      return unmountAllPromise\n        .catch((err) => {\n          callAllEventListeners();\n          throw err;\n        })\n        .then(() => {\n          /* Now that the apps that needed to be unmounted are unmounted, their DOM navigation\n           * events (like hashchange or popstate) should have been cleaned up. So it's safe\n           * to let the remaining captured event listeners to handle about the DOM event.\n           */\n          callAllEventListeners();\n\n          return Promise.all(loadThenMountPromises.concat(mountPromises))\n            .catch((err) => {\n              pendingPromises.forEach((promise) => promise.reject(err));\n              throw err;\n            })\n            .then(finishUpAndReturn);\n        });\n    });\n  }\n\n  function finishUpAndReturn() {\n    const returnValue = getMountedApps();\n    pendingPromises.forEach((promise) => promise.resolve(returnValue));\n\n    try {\n      const appChangeEventName =\n        appsThatChanged.length === 0\n          ? \"single-spa:no-app-change\"\n          : \"single-spa:app-change\";\n      window.dispatchEvent(\n        new CustomEvent(appChangeEventName, getCustomEventDetail())\n      );\n      window.dispatchEvent(\n        new CustomEvent(\"single-spa:routing-event\", getCustomEventDetail())\n      );\n    } catch (err) {\n      /* We use a setTimeout because if someone else's event handler throws an error, single-spa\n       * needs to carry on. If a listener to the event throws an error, it's their own fault, not\n       * single-spa's.\n       */\n      setTimeout(() => {\n        throw err;\n      });\n    }\n\n    /* Setting this allows for subsequent calls to reroute() to actually perform\n     * a reroute instead of just getting queued behind the current reroute call.\n     * We want to do this after the mounting/unmounting is done but before we\n     * resolve the promise for the `reroute` function.\n     */\n    appChangeUnderway = false;\n\n    if (peopleWaitingOnAppChange.length > 0) {\n      /* While we were rerouting, someone else triggered another reroute that got queued.\n       * So we need reroute again.\n       */\n      const nextPendingPromises = peopleWaitingOnAppChange;\n      peopleWaitingOnAppChange = [];\n      reroute(nextPendingPromises);\n    }\n\n    return returnValue;\n  }\n\n  /* We need to call all event listeners that have been delayed because they were\n   * waiting on single-spa. This includes haschange and popstate events for both\n   * the current run of performAppChanges(), but also all of the queued event listeners.\n   * We want to call the listeners in the same order as if they had not been delayed by\n   * single-spa, which means queued ones first and then the most recent one.\n   */\n  function callAllEventListeners() {\n    pendingPromises.forEach((pendingPromise) => {\n      callCapturedEventListeners(pendingPromise.eventArguments);\n    });\n\n    callCapturedEventListeners(eventArguments);\n  }\n\n  function getCustomEventDetail(isBeforeChanges = false, extraProperties) {\n    const newAppStatuses = {};\n    const appsByNewStatus = {\n      // for apps that were mounted\n      [MOUNTED]: [],\n      // for apps that were unmounted\n      [NOT_MOUNTED]: [],\n      // apps that were forcibly unloaded\n      [NOT_LOADED]: [],\n      // apps that attempted to do something but are broken now\n      [SKIP_BECAUSE_BROKEN]: [],\n    };\n\n    if (isBeforeChanges) {\n      appsToLoad.concat(appsToMount).forEach((app, index) => {\n        addApp(app, MOUNTED);\n      });\n      appsToUnload.forEach((app) => {\n        addApp(app, NOT_LOADED);\n      });\n      appsToUnmount.forEach((app) => {\n        addApp(app, NOT_MOUNTED);\n      });\n    } else {\n      appsThatChanged.forEach((app) => {\n        addApp(app);\n      });\n    }\n\n    const result = {\n      detail: {\n        newAppStatuses,\n        appsByNewStatus,\n        totalAppChanges: appsThatChanged.length,\n        originalEvent: eventArguments?.[0],\n        oldUrl,\n        newUrl,\n        navigationIsCanceled,\n      },\n    };\n\n    if (extraProperties) {\n      assign(result.detail, extraProperties);\n    }\n\n    return result;\n\n    function addApp(app, status) {\n      const appName = toName(app);\n      status = status || getAppStatus(appName);\n      newAppStatuses[appName] = status;\n      const statusArr = (appsByNewStatus[status] =\n        appsByNewStatus[status] || []);\n      statusArr.push(appName);\n    }\n  }\n}\n\n/**\n * Let's imagine that some kind of delay occurred during application loading.\n * The user without waiting for the application to load switched to another route,\n * this means that we shouldn't bootstrap and mount that application, thus we check\n * twice if that application should be active before bootstrapping and mounting.\n * https://github.com/single-spa/single-spa/issues/524\n */\nfunction tryToBootstrapAndMount(app, unmountAllPromise) {\n  if (shouldBeActive(app)) {\n    return toBootstrapPromise(app).then((app) =>\n      unmountAllPromise.then(() =>\n        shouldBeActive(app) ? toMountPromise(app) : app\n      )\n    );\n  } else {\n    return unmountAllPromise.then(() => app);\n  }\n}\n","import { reroute } from \"./navigation/reroute.js\";\nimport { formatErrorMessage } from \"./applications/app-errors.js\";\nimport { setUrlRerouteOnly } from \"./navigation/navigation-events.js\";\nimport { isInBrowser } from \"./utils/runtime-environment.js\";\n\nlet started = false;\n\nexport function start(opts) {\n  started = true;\n  if (opts && opts.urlRerouteOnly) {\n    setUrlRerouteOnly(opts.urlRerouteOnly);\n  }\n  if (isInBrowser) {\n    reroute();\n  }\n}\n\nexport function isStarted() {\n  return started;\n}\n\nif (isInBrowser) {\n  setTimeout(() => {\n    if (!started) {\n      console.warn(\n        formatErrorMessage(\n          1,\n          __DEV__ &&\n            `singleSpa.start() has not been called, 5000ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted.`\n        )\n      );\n    }\n  }, 5000);\n}\n","import { getRawAppData, unregisterApplication } from \"../applications/apps\";\nimport { reroute } from \"../navigation/reroute\";\nimport { NOT_LOADED } from \"../applications/app.helpers\";\nimport { toLoadPromise } from \"../lifecycles/load\";\nimport { toBootstrapPromise } from \"../lifecycles/bootstrap\";\n\nexport default {\n  getRawAppData,\n  reroute,\n  NOT_LOADED,\n  toLoadPromise,\n  toBootstrapPromise,\n  unregisterApplication,\n};\n","export { start } from \"./start.js\";\nexport { ensureJQuerySupport } from \"./jquery-support.js\";\nexport {\n  setBootstrapMaxTime,\n  setMountMaxTime,\n  setUnmountMaxTime,\n  setUnloadMaxTime,\n} from \"./applications/timeouts.js\";\nexport {\n  registerApplication,\n  unregisterApplication,\n  getMountedApps,\n  getAppStatus,\n  unloadApplication,\n  checkActivityFunctions,\n  getAppNames,\n  pathToActiveWhen,\n} from \"./applications/apps.js\";\nexport { navigateToUrl } from \"./navigation/navigation-events.js\";\nexport { triggerAppChange } from \"./navigation/reroute.js\";\nexport {\n  addErrorHandler,\n  removeErrorHandler,\n} from \"./applications/app-errors.js\";\nexport { mountRootParcel } from \"./parcels/mount-parcel.js\";\n\nexport {\n  NOT_LOADED,\n  LOADING_SOURCE_CODE,\n  NOT_BOOTSTRAPPED,\n  BOOTSTRAPPING,\n  NOT_MOUNTED,\n  MOUNTING,\n  UPDATING,\n  LOAD_ERROR,\n  MOUNTED,\n  UNMOUNTING,\n  SKIP_BECAUSE_BROKEN,\n} from \"./applications/app.helpers.js\";\n\nimport devtools from \"./devtools/devtools\";\nimport { isInBrowser } from \"./utils/runtime-environment.js\";\n\nif (isInBrowser && window.__SINGLE_SPA_DEVTOOLS__) {\n  window.__SINGLE_SPA_DEVTOOLS__.exposedMethods = devtools;\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var map = {\n\t\"./app-nav/node_modules/@vue/cli-service/generator/template/src/main.js\": [\n\t\t4,\n\t\t7,\n\t\t9\n\t],\n\t\"./app-nav/node_modules/human-signals/build/src/main.js\": [\n\t\t5,\n\t\t7,\n\t\t7\n\t],\n\t\"./app-nav/src/main.js\": [\n\t\t9,\n\t\t9,\n\t\t4,\n\t\t5\n\t],\n\t\"./app-page/node_modules/@vue/cli-service/generator/template/src/main.js\": [\n\t\t6,\n\t\t7,\n\t\t10\n\t],\n\t\"./app-page/node_modules/human-signals/build/src/main.js\": [\n\t\t7,\n\t\t7,\n\t\t8\n\t],\n\t\"./app-page/src/main.js\": [\n\t\t8,\n\t\t9,\n\t\t3,\n\t\t6\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 2;\nmodule.exports = webpackAsyncContext;","/* single-spa-layout@1.6.0 - esm */\nimport*as e from\"single-spa\";import{addErrorHandler as t,removeErrorHandler as n,mountRootParcel as r,navigateToUrl as o,getMountedApps as a,checkActivityFunctions as i,getAppNames as c}from\"single-spa\";function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function f(e,t){if(e){if(\"string\"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=\"undefined\"!=typeof window;function m(e,t){if(\"object\"!==u(t)||Array.isArray(t)||null===t)throw Error(\"Invalid \".concat(e,\": received \").concat(Array.isArray(t)?\"array\":t,\" but expected a plain object\"))}function y(e,t){if(\"boolean\"!=typeof t)throw Error(\"Invalid \".concat(e,\": received \").concat(u(t),\", but expected a boolean\"))}function g(e,t,n,r){if(!r){var o=Object.keys(t),a=[];o.forEach((function(e){n.indexOf(e)<0&&a.push(e)})),a.length>0&&console.warn(Error(\"Invalid \".concat(e,\": received invalid properties '\").concat(a.join(\", \"),\"', but valid properties are \").concat(n.join(\", \"))))}}function b(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(\"string\"!=typeof t||n&&\"\"===t.trim())throw Error(\"Invalid \".concat(e,\": received '\").concat(t,\"', but expected a\").concat(n?\" non-blank\":\"\",\" string\"))}function w(e,t){if(b(e,t),t.indexOf(\"/\")<0)throw Error(\"Invalid \".concat(e,\": received '\").concat(t,\"', but expected an absolute path that starts with /\"))}function E(e,t,n){if(!Array.isArray(t)&&(\"object\"!==u(u(t))||\"number\"!==t.length))throw Error(\"Invalid \".concat(e,\": received '\").concat(t,\"', but expected an array\"));for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];for(var i=0;i<t.length;i++)n.apply(void 0,[t[i],\"\".concat(e,\"[\").concat(i,\"]\")].concat(o))}function N(e,t){var n;return\"/\"===(n=\"/\"===e.substr(-1)?\"/\"===t[0]?e+t.slice(1):e+t:\"/\"===t[0]?e+t:e+\"/\"+t).substr(-1)&&n.length>1&&(n=n.slice(0,n.length-1)),n}function O(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}var C=Object.prototype.hasOwnProperty.call(e,\"default\")?Object.getOwnPropertyDescriptor(e,\"default\").value.pathToActiveWhen:e.pathToActiveWhen,P=\"undefined\"!=typeof Symbol?Symbol():\"@\";function A(e,t){if(e&&e.nodeName||\"string\"==typeof e){if(v&&!t&&window.singleSpaLayoutData&&(t=window.singleSpaLayoutData),\"string\"==typeof e){if(!v)throw Error(\"calling constructRoutes with a string on the server is not yet supported\");if(!(e=(new DOMParser).parseFromString(e,\"text/html\").documentElement.querySelector(\"single-spa-router\")))throw Error(\"constructRoutes should be called with a string HTML document that contains a <single-spa-router> element.\")}e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"template\"===e.nodeName.toLowerCase()&&(e=(e.content||e).querySelector(\"single-spa-router\")),\"single-spa-router\"!==e.nodeName.toLowerCase())throw Error(\"single-spa-layout: The HTMLElement passed to constructRoutes must be <single-spa-router> or a <template> containing the router. Received \".concat(e.nodeName));v&&e.isConnected&&e.parentNode.removeChild(e);var n={routes:[],redirects:{}};L(e,\"mode\")&&(n.mode=L(e,\"mode\")),L(e,\"base\")&&(n.base=L(e,\"base\")),L(e,\"containerEl\")&&(n.containerEl=L(e,\"containerEl\"));for(var r=0;r<e.childNodes.length;r++){var o;(o=n.routes).push.apply(o,p(x(e.childNodes[r],t,n)))}return n}(e,t)}else if(t)throw Error(\"constructRoutes should be called either with an HTMLElement and layoutData, or a single json object.\");return function(e){m(\"routesConfig\",e);var t,n=e.disableWarnings;if(g(\"routesConfig\",e,[\"mode\",\"base\",\"containerEl\",\"routes\",\"disableWarnings\",\"redirects\"],n),e.hasOwnProperty(\"containerEl\")?function(e,t){if(\"string\"==typeof t?\"\"===t.trim():!(v&&t instanceof HTMLElement))throw Error(\"Invalid \".concat(\"routesConfig.containerEl\",\": received \").concat(t,\" but expected either non-blank string or HTMLElement\"))}(0,e.containerEl):e.containerEl=\"body\",e.hasOwnProperty(\"mode\")||(e.mode=\"history\"),function(e,t,n){if(n.indexOf(t)<0)throw Error(\"Invalid \".concat(\"routesConfig.mode\",\": received '\").concat(t,\"' but expected \").concat(n.join(\", \")))}(0,e.mode,[\"history\",\"hash\"]),e.hasOwnProperty(\"base\")?(b(\"routesConfig.base\",e.base),e.base=(0!==(t=e.base).indexOf(\"/\")&&(t=\"/\"+t),\"/\"!==t[t.length-1]&&(t+=\"/\"),t)):e.base=\"/\",e.hasOwnProperty(\"redirects\"))for(var r in m(\"routesConfig.redirects\",e.redirects),e.redirects){var o=e.redirects[r];w(\"routesConfig.redirects key\",r),w(\"routesConfig.redirects['\".concat(r,\"']\"),o)}var a=v?window.location.pathname:\"/\",i=\"hash\"===e.mode?a+\"#\":\"\";E(\"routesConfig.routes\",e.routes,(function e(t,r,o){var a=o.parentPath,i=o.siblingActiveWhens,c=o.parentActiveWhen;if(m(r,t),\"application\"===t.type)g(r,t,[\"type\",\"name\",\"props\",\"loader\",\"error\"],n),t.props&&m(\"\".concat(r,\".props\"),t.props),b(\"\".concat(r,\".name\"),t.name);else if(\"route\"===t.type){g(r,t,[\"type\",\"path\",\"routes\",\"props\",\"default\",\"exact\"],n),t.hasOwnProperty(\"exact\")&&y(\"\".concat(r,\".exact\"),t.exact);var u,s=t.hasOwnProperty(\"path\"),l=t.hasOwnProperty(\"default\");if(s)b(\"\".concat(r,\".path\"),t.path),u=N(a,t.path),t.activeWhen=C(u,t.exact),i.push(t.activeWhen);else{if(!l)throw Error(\"Invalid \".concat(r,\": routes must have either a path or default property.\"));y(\"\".concat(r,\".default\"),t.default),u=a,t.activeWhen=function(e,t){return function(n){return t(n)&&!e.some((function(e){return e(n)}))}}(i,c)}if(s&&l&&t.default)throw Error(\"Invalid \".concat(r,\": cannot have both path and set default to true.\"));t.routes&&E(\"\".concat(r,\".routes\"),t.routes,e,{parentPath:u,siblingActiveWhens:[],parentActiveWhen:t.activeWhen})}else{if(\"undefined\"!=typeof Node&&t instanceof Node);else for(var d in t)\"routes\"!==d&&\"attrs\"!==d&&b(\"\".concat(r,\"['\").concat(d,\"']\"),t[d],!1);t.routes&&E(\"\".concat(r,\".routes\"),t.routes,e,{parentPath:a,siblingActiveWhens:i,parentActiveWhen:c})}}),{parentPath:i+e.base,parentActiveWhen:function(){return!0},siblingActiveWhens:[]}),delete e.disableWarnings}(e),e}function L(e,t){if(v)return e.getAttribute(t);var n=O(e.attrs,(function(e){return e.name===t.toLowerCase()}));return n?n.value:null}function j(e,t){return v?e.hasAttribute(t):e.attrs.some((function(e){return e.name===t}))}function x(e,t,n){if(\"application\"===e.nodeName.toLowerCase()){if(e.childNodes.length>0)throw Error(\"<application> elements must not have childNodes. You must put in a closing </application> - self closing is not allowed\");var r={type:\"application\",name:L(e,\"name\")},o=L(e,\"loader\");if(o)if(t.loaders&&t.loaders.hasOwnProperty(o))r.loader=t.loaders[o];else if(v)throw Error(\"Application loader '\".concat(o,\"' was not defined in the htmlLayoutData\"));var a=L(e,\"error\");if(a)if(t.errors&&t.errors.hasOwnProperty(a))r.error=t.errors[a];else if(v)throw Error(\"Application error handler '\".concat(o,\"' was not defined in the htmlLayoutData\"));return S(e,r,t),[r]}if(\"route\"===e.nodeName.toLowerCase()){var i={type:\"route\",routes:[]},c=L(e,\"path\");c&&(i.path=c),j(e,\"default\")&&(i.default=!0),j(e,\"exact\")&&(i.exact=!0),S(e,i,t);for(var u=0;u<e.childNodes.length;u++){var s;(s=i.routes).push.apply(s,p(x(e.childNodes[u],t,n)))}return[i]}if(\"redirect\"===e.nodeName.toLowerCase())return n.redirects[N(\"/\",L(e,\"from\"))]=N(\"/\",L(e,\"to\")),[];if(\"undefined\"!=typeof Node&&e instanceof Node){if(e.nodeType===Node.TEXT_NODE&&\"\"===e.textContent.trim())return[];if(e.childNodes&&e.childNodes.length>0){e.routes=[];for(var l=0;l<e.childNodes.length;l++){var d;(d=e.routes).push.apply(d,p(x(e.childNodes[l],t,n)))}}return[e]}if(e.childNodes){for(var f={type:e.nodeName.toLowerCase(),routes:[],attrs:e.attrs},h=0;h<e.childNodes.length;h++){var m;(m=f.routes).push.apply(m,p(x(e.childNodes[h],t,n)))}return[f]}return\"#comment\"===e.nodeName?[{type:\"#comment\",value:e.data}]:\"#text\"===e.nodeName?[{type:\"#text\",value:e.value}]:void 0}function S(e,t,n){for(var r=(L(e,\"props\")||\"\").split(\",\"),o=0;o<r.length;o++){var a=r[o].trim();if(0!==a.length)if(t.props||(t.props={}),n.props&&n.props.hasOwnProperty(a))t.props[a]=n.props[a];else{if(v)throw Error(\"Prop '\".concat(a,\"' was not defined in the htmlLayoutData. Either remove this attribute from the HTML element or provide the prop's value\"));t.props[a]=P}}}function W(e){return{bootstrap:function(){return Promise.resolve()},mount:function(t){return Promise.resolve().then((function(){t.domElement.innerHTML=e}))},unmount:function(e){return Promise.resolve().then((function(){e.domElement.innerHTML=\"\"}))}}}function I(e){var i=e.routes;e.applications;var c=e.active,s=void 0===c||c,l=!1,d={};if(!i)throw Error(\"single-spa-layout constructLayoutEngine(opts): opts.routes must be provided. Value was \".concat(u(i)));var p=i.base.slice(0,i.base.length-1),f={isActive:function(){return l},activate:function(){l||(l=!0,v&&(window.addEventListener(\"single-spa:before-routing-event\",m),window.addEventListener(\"single-spa:before-mount-routing-event\",y),window.addEventListener(\"single-spa:routing-event\",g),t(h),y()))},deactivate:function(){l&&(l=!1,v&&(window.removeEventListener(\"single-spa:before-routing-event\",m),window.removeEventListener(\"single-spa:before-mount-routing-event\",y),window.removeEventListener(\"single-spa:routing-event\",g),n(h)))}};return s&&f.activate(),f;function h(e){var t=M({applicationName:e.appOrParcelName,location:window.location,routes:i.routes});if(t&&t.error){var n=document.getElementById(H(t.name)),o=\"string\"==typeof t.error?W(t.error):t.error;d[t.name]=r(o,{domElement:n})}setTimeout((function(){throw e}))}function m(e){var t=e.detail,n=t.cancelNavigation,r=t.newUrl,a=k(i,R(r)),c=function(e){var t=i.redirects[e];if(e===a){if(!n)throw Error(\"single-spa-layout: <redirect> requires single-spa@>=5.7.0\");return n(),setTimeout((function(){o(t)})),{v:void 0}}};for(var s in i.redirects){var l=c(s);if(\"object\"===u(l))return l.v}var p=[];q(r).forEach((function(e){d[e]&&(p.push(d[e].unmount()),delete d[e])})),p.length>0&&(n(),Promise.all(p).then((function(){o(r)})))}function y(){if(0===k(i).indexOf(p)){var e=\"string\"==typeof i.containerEl?document.querySelector(i.containerEl):i.containerEl,t=a().reduce((function(e,t){return e[t]=document.getElementById(H(t)),e}),{});T({location:window.location,routes:i.routes,parentContainer:e,shouldMount:!0,applicationContainers:t})}}function g(e){q(e.detail.newUrl).forEach((function(e){var t=document.getElementById(H(e));t&&t.isConnected&&t.parentNode.removeChild(t)}))}}function T(e){var t=e.location,n=e.routes,r=e.parentContainer,o=e.previousSibling,a=e.shouldMount,i=e.applicationContainers;return n.forEach((function(e,n){if(\"application\"===e.type){if(a){var c,u=H(e.name);i[e.name]?c=i[e.name]:document.getElementById(u)?c=document.getElementById(u):(c=document.createElement(\"div\")).id=u,D(c,r,o),o=c}}else if(\"route\"===e.type)o=T({location:t,routes:e.routes,parentContainer:r,previousSibling:o,shouldMount:a&&e.activeWhen(t),applicationContainers:i});else if(e instanceof Node||\"string\"==typeof e.type)if(a){if(!e.connectedNode){var s=e instanceof Node?e.cloneNode(!1):B(e);e.connectedNode=s}D(e.connectedNode,r,o),e.routes&&T({location:t,routes:e.routes,parentContainer:e.connectedNode,previousSibling:null,shouldMount:a,applicationContainers:i}),o=e.connectedNode}else(l=e.connectedNode)&&(l.remove?l.remove():l.parentNode.removeChild(l)),delete e.connectedNode;var l})),o}function M(e){for(var t=e.applicationName,n=e.location,r=e.routes,o=0;o<r.length;o++){var a=r[o];if(\"application\"===a.type){if(a.name===t)return a}else if(\"route\"===a.type){if(a.activeWhen(n)){var i=M({applicationName:t,location:n,routes:a.routes});if(i)return i}}else if(a.routes){var c=M({applicationName:t,location:n,routes:a.routes});if(c)return c}}}function D(e,t,n){var r=n?n.nextSibling:t.firstChild;r!==e&&t.insertBefore(e,r)}function H(e){return\"single-spa-application:\".concat(e)}function B(e){if(\"#text\"===e.type.toLowerCase())return document.createTextNode(e.value);if(\"#comment\"===e.type.toLowerCase())return document.createComment(e.value);var t=document.createElement(e.type);return(e.attrs||[]).forEach((function(e){t.setAttribute(e.name,e.value)})),t.routes&&t.routes.forEach((function(e){t.appendChild(B(e))})),t}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location;return t[\"hash\"===e.mode?\"hash\":\"pathname\"]}function R(e){try{return new URL(e)}catch(n){var t=document.createElement(\"a\");return t.href=e,t}}function q(e){var t=[],n=i(e?R(e):location);return c().forEach((function(e){n.indexOf(e)<0&&t.push(e)})),t}function U(e){var t=e.routes,n=e.loadApp,o={};return F(o,X,{},t.routes),Object.keys(o).map((function(e){var t=o[e];return{name:e,customProps:function(e,n){var r=O(t,(function(e){return e.activeWhen(n)}));return r?r.props:{}},activeWhen:t.map((function(e){return e.activeWhen})),app:function(){var o;v&&(o=O(t,(function(e){return e.activeWhen(window.location)})));var a=n({name:e});return o&&o.loader?function(e,t,n){return Promise.resolve().then((function(){var o,a=H(e),i=document.getElementById(a);i||((i=document.createElement(\"div\")).id=a,i.style.display=\"none\",document.body.appendChild(i),o=function(){i.style.removeProperty(\"display\"),\"\"===i.getAttribute(\"style\")&&i.removeAttribute(\"style\"),window.removeEventListener(\"single-spa:before-mount-routing-event\",o)},window.addEventListener(\"single-spa:before-mount-routing-event\",o));var c=\"string\"==typeof t.loader?W(t.loader):t.loader,u=r(c,{name:\"application-loader:\".concat(e),domElement:i});function s(){return u.unmount().then((function(){o&&o()}))}return Promise.all([u.mountPromise,n]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,n)||f(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}());r[0];var o=r[1];return s().then((function(){return o}))}),(function(e){return s().then((function(){throw e}))}))}))}(e,o,a):a}}}))}function F(e,t,n,r){r.forEach((function(r){\"application\"===r.type?(e[r.name]||(e[r.name]=[]),e[r.name].push({activeWhen:t,props:V(n,r.props),loader:r.loader})):\"route\"===r.type?F(e,r.activeWhen,V(n,r.props),r.routes):r.routes&&F(e,t,n,r.routes)}))}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(d({},e),t)}function X(){return!0}export{U as constructApplications,I as constructLayoutEngine,A as constructRoutes};\n","import { registerApplication, start } from \"single-spa\";\nimport {\n  constructRoutes,\n  constructApplications,\n  constructLayoutEngine,\n} from \"single-spa-layout\";\nconst template = document.querySelector(\"#single-spa-template\");\n\nconst layoutData = {\n  props: {\n    authToken: \"78sf9d0fds89-0fysdiuf6sf8\",\n    userInfo: {\n      name: \"hello\",\n    },\n  },\n};\nconst resolvedRoutes = constructRoutes(template, layoutData);\nconsole.log(resolvedRoutes);\n\nconst applications = constructApplications({\n  routes: resolvedRoutes,\n  loadApp: (app) => import(`./${app.name}/src/main.js`),\n});\nconst layoutEngine = constructLayoutEngine({\n  routes: resolvedRoutes,\n  applications: applications,\n});\nconsole.log(applications);\napplications.forEach(registerApplication);\n\n// registerApplication(\n//   \"app-nav\",\n//   () => import(\"./app-nav/src/main.js\"),\n//   () => (location.pathname === \"/nav\" ? false : true)\n// );\n\n// registerApplication(\n//   \"app-page\",\n//   () => import(\"./app-page/src/main.js\"),\n//   () => (location.pathname === \"/page\" ? false : true)\n// );\n\nlayoutEngine.activate();\nstart();\n\nwindow.addEventListener(\"single-spa:before-app-change\", (evt) => {\n  console.log(\"before-app-change>>>\", evt);\n});\nwindow.addEventListener(\"single-spa:before-routing-event\", (evt) => {\n  console.log(\"before-routing-event>>>>\", evt, evt.detail.newAppStatuses);\n});\nwindow.addEventListener(\"single-spa:before-mount-routing-event\", (evt) => {\n  console.log(\"before-mount-routing-event>>>>\", evt);\n});\n\n// const mountedAppNames = singleSpa.getMountedApps();\n// console.log(mountedAppNames);\n\n// const appNames = singleSpa.getAppNames();\n// console.log(appNames);\n\n// const status = singleSpa.getAppStatus(\"app1\");\n// console.log(status); // one of many statuses (see list below). e.g. MOUNTED\n"],"sourceRoot":""}